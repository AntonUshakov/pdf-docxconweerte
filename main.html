<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PDF → Text Converter</title>

  <!-- PDF.js core + worker -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js";
  </script>
</head>
<body class="p-6">
  <h1>PDF → DOCX Converter</h1>
  <input type="file" id="pdfInput" accept="application/pdf" />
  <button id="convertBtn">Convert</button>
  <script>
    document.getElementById("convertBtn").onclick = async () => {
      const file = document.getElementById("pdfInput").files[0];
      if (!file) return alert("Upload PDF first");

      const arrayBuffer = await file.arrayBuffer();
      const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;

      let fullText = "";
      for (let i = 1; i <= pdf.numPages; i++) {
        const page = await pdf.getPage(i);
        const textContent = await page.getTextContent();
        const pageText = textContent.items.map((t) => t.str).join(" ");
        fullText += `

--- Page ${i} ---

` + pageText;
      }

      const pre = document.createElement("pre");
      pre.style.whiteSpace = "pre-wrap";
      pre.style.marginTop = "20px";
      pre.textContent = fullText;
      document.body.appendChild(pre);
    };
  </script>
</body>
</html>
